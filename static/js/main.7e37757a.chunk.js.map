{"version":3,"sources":["ErrorBoundary.js","Navbar.js","Playlist.js","Loader.js","PlaylistBar.js","PlaylistSlider.js","NewPlaylistForm.js","MixingBoard.js","App.js","serviceWorker.js","index.js","spotify-icon-logo.png"],"names":["ErrorBoundary","props","state","isError","error","errorInfo","console","log","this","className","children","Component","Navbar","isDropdown","handleClick","bind","username","onClick","Playlist","isLocked","removePlaylist","playlist","id","addPlaylist","name","Loader","PlaylistBar","findMorePlaylists","playlists","chosenPlaylistIDs","isMorePlaylists","isLoading","src","SpotifyIconLogo","alt","map","key","indexOf","PlaylistSlider","isChanging","handleChange","handleChangeCommitted","e","value","onLevelChange","setState","classes","totalTrackCount","tracks","length","halfTrackCount","Math","floor","level","root","Slider","orientation","onChangeCommitted","onChange","defaultValue","withStyles","height","NewPlaylistForm","open","modalOpen","isInvalidName","closeSnackbar","handleModalOpen","handleModalClose","createPlaylist","preventDefault","setTimeout","target","newPlaylistTrackCount","Modal","aria-labelledby","aria-describedby","modal","onClose","handleClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","paper","htmlFor","type","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","contentprops","action","IconButton","display","alignItems","justifyContent","border","MixingBoard","getNewTrackCount","chosenPlaylists","reduce","acc","currVal","App","access_token","getHashParams","isAuthenticated","userData","isLoadingPlaylists","isLoadingNewPlaylist","extractPlaylists","getTracks","getAllTracks","authorizeURL","clientID","redirectURI","scope","window","location","href","getCurrentUser","getPlaylists","playlistsData","next","token","axios","get","headers","Authorization","res","data","url","i","items","allTracks","newPlaylist","push","URL","keepGoing","newURL","response","track","artists","artist","maxPlaylists","currSt","playlistID","filter","newLevel","updatedPlaylists","playlistName","curatedPlaylist","curatePlaylist","shuffle","post","addAllTracks","workingPlaylist","curatedPlaylistNewTotal","randomIndex","random","splice","uris","formatURIs","tracksLeftToSend","startIndex","endIndex","nextSetOfTracks","slice","addTracks","formatTrackID","trackID","playlistsResponse","array","temporaryValue","currentIndex","hashParams","r","q","hash","substring","exec","decodeURIComponent","accessToken","defaultProps","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","module","exports"],"mappings":"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","file":"static/js/main.7e37757a.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass ErrorBoundary extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { isError: false };\n\t}\n\tcomponentDidCatch(error, errorInfo) {\n\t\tconsole.log(`ERROR: ${error}, ERRORINFO: ${errorInfo}`);\n\t\t// You can also log the error to an error reporting service\n\t\t// logErrorToMyService(error, errorInfo);\n\t}\n\n\tstatic getDerivedStateFromError(error) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { isError: true };\n\t}\n\trender() {\n\t\tif (this.state.isError) {\n\t\t\treturn <div className=\"ErrorBoundary\">Sorry, an error occured!</div>;\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\nexport default ErrorBoundary;\n","import React, { Component } from 'react';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport PersonIcon from '@material-ui/icons/Person';\n\nimport './Navbar.css';\n\nclass Navbar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { isDropdown: false };\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\t// this.setState((currSt) => ({ isDropdown: !currSt.isDropdown }));\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Navbar\">\n\t\t\t\t{this.props.username && (\n\t\t\t\t\t<div onClick={this.handleClick} className=\"account-widget\">\n\t\t\t\t\t\t<PersonIcon className=\"userIcon\" />\n\t\t\t\t\t\t<span>{this.props.username}</span>\n\t\t\t\t\t\t{/* {this.state.isDropdown ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n\t\t\t\t\t\t{this.state.isDropdown && (\n\t\t\t\t\t\t\t<div className=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t<div className=\"dropdown-item\">dropdown item</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)} */}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport './Playlist.css';\n\nclass Playlist extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\tif (!this.props.isLocked) {\n\t\t\tthis.props.addPlaylist(this.props.playlist);\n\t\t} else {\n\t\t\tthis.props.removePlaylist(this.props.playlist.id);\n\t\t}\n\t}\n\trender() {\n\t\tconst { isLocked, playlist } = this.props;\n\t\treturn (\n\t\t\t<div className={`Playlist ${isLocked && 'disabled'}`} onClick={this.handleClick}>\n\t\t\t\t<div className=\"Playlist-name\">{playlist.name}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Playlist;\n","import React from 'react';\nimport './Loader.css';\n\nfunction Loader(props) {\n\treturn (\n\t\t<div className=\"kabobloader\">\n\t\t\t<div className=\"bounce1\" />\n\t\t\t<div className=\"bounce2\" />\n\t\t\t<div className=\"bounce3\" />\n\t\t</div>\n\t);\n}\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport Playlist from './Playlist';\nimport Loader from './Loader';\nimport SpotifyIconLogo from './spotify-icon-logo.png';\nimport './PlaylistBar.css';\n\nclass PlaylistBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick() {\n\t\tthis.props.findMorePlaylists();\n\t}\n\trender() {\n\t\tconst { playlists, addPlaylist, removePlaylist, chosenPlaylistIDs, isMorePlaylists, isLoading } = this.props;\n\t\treturn (\n\t\t\t<div className=\"PlaylistBar-container\">\n\t\t\t\t<div className=\"sidebar-branding\">\n\t\t\t\t\t<img src={SpotifyIconLogo} alt=\"spotify-logo\" className=\"logo\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"PlaylistBar\">\n\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"playlists-container\">\n\t\t\t\t\t\t\t{playlists.map((playlist) => (\n\t\t\t\t\t\t\t\t<Playlist\n\t\t\t\t\t\t\t\t\taddPlaylist={addPlaylist}\n\t\t\t\t\t\t\t\t\tremovePlaylist={removePlaylist}\n\t\t\t\t\t\t\t\t\tkey={playlist.id}\n\t\t\t\t\t\t\t\t\tisLocked={chosenPlaylistIDs.indexOf(playlist.id) !== -1}\n\t\t\t\t\t\t\t\t\tplaylist={playlist}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{isMorePlaylists && (\n\t\t\t\t\t\t\t\t<div className=\"more-playlist-button-container\">\n\t\t\t\t\t\t\t\t\t<div onClick={this.handleClick} className=\"more-playlist-button\">\n\t\t\t\t\t\t\t\t\t\tMore Playlists\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PlaylistBar;\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport CloseIcon from '@material-ui/icons/Close';\nimport './PlaylistSlider.css';\n\nconst styles = {\n\troot: {\n\t\theight: '300px'\n\t}\n};\n\nclass PlaylistSlider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { isChanging: false };\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleChangeCommitted = this.handleChangeCommitted.bind(this);\n\t}\n\thandleClick() {\n\t\tthis.props.removePlaylist(this.props.playlist.id);\n\t}\n\thandleChange(e, value) {\n\t\tthis.props.onLevelChange(this.props.playlist.id, value);\n\t\tthis.setState({ isChanging: true });\n\t}\n\thandleChangeCommitted() {\n\t\tthis.setState({ isChanging: false });\n\t}\n\trender() {\n\t\tconst { classes, playlist } = this.props;\n\t\tconst totalTrackCount = playlist.tracks.length;\n\t\tconst halfTrackCount = Math.floor(playlist.level / 100 * playlist.tracks.length);\n\n\t\treturn (\n\t\t\t<div className=\"PlaylistSlider\">\n\t\t\t\t<CloseIcon className=\"PlaylistSlider-remove-button\" onClick={this.handleClick} />\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tclassName=\"slider\"\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\tonChangeCommitted={this.handleChangeCommitted}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tdefaultValue={50}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"track-count-container\">\n\t\t\t\t\t<span className={`${this.state.isChanging && 'isChanging'}`}>{halfTrackCount}</span>\n\n\t\t\t\t\t<span className=\"track-count\">{`/ ${totalTrackCount}`}</span>\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"playlist-name\">{playlist.name}</h3>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(PlaylistSlider);\n","import React, { Component } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { withStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport './NewPlaylistForm.css';\n\nconst styles = {\n\tmodal: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center'\n\t},\n\tpaper: {\n\t\t// backgroundColor: theme.palette.background.paper,\n\t\tborder: '2px solid #000'\n\t\t// boxShadow: theme.shadows[5],\n\t\t// padding: theme.spacing(2, 4, 3)\n\t}\n};\n\nclass NewPlaylistForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { name: '', open: false, modalOpen: false, isInvalidName: false };\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.closeSnackbar = this.closeSnackbar.bind(this);\n\t\tthis.handleModalOpen = this.handleModalOpen.bind(this);\n\t\tthis.handleModalClose = this.handleModalClose.bind(this);\n\t}\n\thandleModalOpen() {\n\t\tthis.setState({ modalOpen: true });\n\t}\n\thandleModalClose() {\n\t\tthis.setState({ modalOpen: false });\n\t}\n\n\tcloseSnackbar() {\n\t\tthis.setState({ open: false });\n\t}\n\thandleClick(e) {\n\t\tif (!this.state.name) {\n\t\t\tthis.setState({ isInvalidName: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({ isInvalidName: false });\n\t\t\t}, 3000);\n\t\t} else {\n\t\t\tthis.props.createPlaylist(this.state.name);\n\t\t\tthis.setState({ name: '', open: true, modalOpen: false });\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\trender() {\n\t\tconst { classes } = this.props;\n\t\tconst isInvalidName = this.state.isInvalidName;\n\n\t\treturn (\n\t\t\t<div className=\"NewPlaylistForm\">\n\t\t\t\t<div className=\"NewPlaylistForm-form\">\n\t\t\t\t\t<button onClick={this.handleModalOpen} className=\"create-playlist-button\">\n\t\t\t\t\t\t{`Create Playlist (${this.props.newPlaylistTrackCount} songs)`}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"transition-modal-title\"\n\t\t\t\t\t\taria-describedby=\"transition-modal-description\"\n\t\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\t\topen={this.state.modalOpen}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\t\ttimeout: 500\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={this.state.modalOpen}>\n\t\t\t\t\t\t\t<div className={`${classes.paper} modal-content`}>\n\t\t\t\t\t\t\t\t<CloseIcon className=\"close-icon\" onClick={this.handleModalClose} />\n\t\t\t\t\t\t\t\t<h3>Create Playlist</h3>\n\t\t\t\t\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"name\">Name</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tclassName={`name-input ${isInvalidName && `red-outline`}`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className={`invalid-name-text ${isInvalidName && `show-invalid`}`}>\n\t\t\t\t\t\t\t\t\t\tPlease name your playlist\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button className=\"create-playlist-button\" onClick={this.handleClick}>\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n\t\t\t\t\topen={this.state.open}\n\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\tmessage={<span id=\"message-id\">Playlist added</span>}\n\t\t\t\t\tcontentprops={{ 'aria-describedby': 'message-id' }}\n\t\t\t\t\tonClose={this.closeSnackbar}\n\t\t\t\t\taction={[\n\t\t\t\t\t\t<IconButton onClick={this.closeSnackbar}>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(NewPlaylistForm);\n","import React, { Component } from 'react';\nimport PlaylistSlider from './PlaylistSlider';\nimport NewPlaylistForm from './NewPlaylistForm';\nimport './MixingBoard.css';\n\nclass MixingBoard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getNewTrackCount = this.getNewTrackCount.bind(this);\n\t}\n\tgetNewTrackCount() {\n\t\tif (this.props.chosenPlaylists.length) {\n\t\t\tconst allTrackTotals = this.props.chosenPlaylists.map((playlist) =>\n\t\t\t\tMath.floor(playlist.level / 100 * playlist.tracks.length)\n\t\t\t);\n\t\t\tconst sum = allTrackTotals.reduce((acc, currVal) => acc + currVal);\n\t\t\treturn sum;\n\t\t}\n\t}\n\trender() {\n\t\tconst { chosenPlaylists, removePlaylist, onLevelChange, createPlaylist } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"MixingBoard\">\n\t\t\t\t<div className=\"MixingBoard-container\">\n\t\t\t\t\t{chosenPlaylists.length > 0 ? (\n\t\t\t\t\t\t<div className=\"MixingBoard-playlists\">\n\t\t\t\t\t\t\t{chosenPlaylists.map((playlist) => (\n\t\t\t\t\t\t\t\t<PlaylistSlider\n\t\t\t\t\t\t\t\t\tremovePlaylist={removePlaylist}\n\t\t\t\t\t\t\t\t\tonLevelChange={onLevelChange}\n\t\t\t\t\t\t\t\t\tplaylist={playlist}\n\t\t\t\t\t\t\t\t\tkey={playlist.id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"instructions-banner\">Add playlists to begin</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{chosenPlaylists.length > 0 && (\n\t\t\t\t\t<NewPlaylistForm newPlaylistTrackCount={this.getNewTrackCount()} createPlaylist={createPlaylist} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MixingBoard;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport PlaylistBar from './PlaylistBar';\nimport MixingBoard from './MixingBoard';\nimport Loader from './Loader';\nimport './App.css';\n\nclass App extends Component {\n\tstatic defaultProps = {\n\t\tclientID: '9a9bc27e766d4e48bcd18dad29e5a877',\n\t\t// redirectURI: 'http://localhost:3000',\n\t\tredirectURI: 'https://jeremiah-quill.github.io/spotify-playlists',\n\t\tscope: 'user-read-private playlist-read-private playlist-modify-public playlist-modify-private',\n\t\tmaxPlaylists: 4\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taccess_token: this.getHashParams().access_token,\n\t\t\tisAuthenticated: false,\n\t\t\tuserData: {},\n\t\t\tplaylists: [],\n\t\t\tisLoadingPlaylists: true,\n\t\t\tisLoadingNewPlaylist: false,\n\t\t\tchosenPlaylists: [],\n\t\t\tisMorePlaylists: ''\n\t\t};\n\t\tthis.getHashParams = this.getHashParams.bind(this);\n\t\tthis.addPlaylist = this.addPlaylist.bind(this);\n\t\tthis.removePlaylist = this.removePlaylist.bind(this);\n\t\tthis.createPlaylist = this.createPlaylist.bind(this);\n\t\tthis.onLevelChange = this.onLevelChange.bind(this);\n\t\tthis.findMorePlaylists = this.findMorePlaylists.bind(this);\n\t\tthis.extractPlaylists = this.extractPlaylists.bind(this);\n\t\tthis.getTracks = this.getTracks.bind(this);\n\t\tthis.getAllTracks = this.getAllTracks.bind(this);\n\t}\n\n\tasync componentDidMount() {\n\t\tconst authorizeURL = `https://accounts.spotify.com/authorize?client_id=${this.props\n\t\t\t.clientID}&redirect_uri=${this.props.redirectURI}&scope=${this.props\n\t\t\t.scope}&show_dialog=true&response_type=token`;\n\t\tif (!this.state.access_token) {\n\t\t\twindow.location.href = authorizeURL;\n\t\t}\n\n\t\t// get user data\n\t\tlet userData = await this.getCurrentUser(this.state.access_token);\n\n\t\t// get playlists data\n\t\tlet playlistsData = await this.getPlaylists(\n\t\t\t`https://api.spotify.com/v1/users/${userData.id}/playlists/?limit=20`\n\t\t);\n\n\t\t// extract tracks from playlists and build up objects to store in state\n\t\tconst playlists = await this.extractPlaylists(playlistsData);\n\t\tthis.setState({\n\t\t\tplaylists: playlists,\n\t\t\tuserData: userData,\n\t\t\tisLoadingPlaylists: false,\n\t\t\tisMorePlaylists: playlistsData.next\n\t\t});\n\t}\n\n\tasync getCurrentUser(token) {\n\t\tlet res = await axios.get(`https://api.spotify.com/v1/me`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + token\n\t\t\t}\n\t\t});\n\t\tconsole.log(res);\n\t\tlet userData = res.data;\n\t\treturn userData;\n\t}\n\n\tasync getPlaylists(url) {\n\t\tconst res = await axios.get(url, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + this.state.access_token\n\t\t\t}\n\t\t});\n\t\tlet playlistsData = res.data;\n\t\treturn playlistsData;\n\t}\n\n\tasync extractPlaylists(playlistsData) {\n\t\tlet playlists = [];\n\t\tfor (let i = 0; i < playlistsData.items.length; i++) {\n\t\t\tlet url = `https://api.spotify.com/v1/playlists/${playlistsData.items[i].id}/tracks`;\n\t\t\tconst allTracks = await this.getAllTracks(url);\n\t\t\tconst newPlaylist = {\n\t\t\t\tname: playlistsData.items[i].name,\n\t\t\t\tid: playlistsData.items[i].id,\n\t\t\t\ttracks: allTracks\n\t\t\t};\n\t\t\tplaylists.push(newPlaylist);\n\t\t}\n\t\treturn playlists;\n\t}\n\n\t// getAllTracks uses recursion to call getTracks for as long as it takes until there is no \"next\" pagination\n\tasync getAllTracks(URL) {\n\t\tlet allTracks = [];\n\t\tlet keepGoing = true;\n\t\tlet newURL = URL;\n\t\twhile (keepGoing) {\n\t\t\tlet response = await this.getTracks(newURL);\n\t\t\tfor (let i = 0; i < response.data.items.length; i++) {\n\t\t\t\tlet track = {\n\t\t\t\t\tname: response.data.items[i].track.name,\n\t\t\t\t\tid: response.data.items[i].track.id,\n\t\t\t\t\tartists: response.data.items[i].track.artists.map((artist) => ({\n\t\t\t\t\t\tname: artist.name,\n\t\t\t\t\t\tid: artist.id\n\t\t\t\t\t}))\n\t\t\t\t};\n\t\t\t\tallTracks.push(track);\n\t\t\t}\n\t\t\tnewURL = response.data.next;\n\t\t\tif (!newURL) {\n\t\t\t\tkeepGoing = false;\n\t\t\t\treturn allTracks;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getTracks(URL) {\n\t\tconst tracks = await axios.get(`${URL}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + this.state.access_token\n\t\t\t}\n\t\t});\n\t\treturn tracks;\n\t}\n\n\taddPlaylist(playlist) {\n\t\tif (this.state.chosenPlaylists.length < this.props.maxPlaylists) {\n\t\t\tconst newPlaylist = { ...playlist, level: 50 };\n\t\t\tthis.setState((currSt) => ({ chosenPlaylists: [ ...currSt.chosenPlaylists, newPlaylist ] }));\n\t\t} else {\n\t\t\t// render breadcrumb saying `you can only add ${this.props.maxPlaylists} playlists` *********\n\t\t}\n\t}\n\n\tremovePlaylist(playlistID) {\n\t\tthis.setState((currSt) => ({\n\t\t\tchosenPlaylists: this.state.chosenPlaylists.filter((playlist) => playlist.id !== playlistID)\n\t\t}));\n\t}\n\n\tonLevelChange(id, newLevel) {\n\t\tconst updatedPlaylists = this.state.chosenPlaylists.map((playlist) => {\n\t\t\tif (playlist.id === id) {\n\t\t\t\treturn { ...playlist, level: newLevel };\n\t\t\t}\n\t\t\treturn playlist;\n\t\t});\n\t\tthis.setState({ chosenPlaylists: updatedPlaylists });\n\t}\n\n\t// Curates each chosen playlist, pushes it into newPlaylist, adds a new playlist to spotify, and adds songs to that playlist in spotify\n\tasync createPlaylist(playlistName) {\n\t\tthis.setState({ isLoadingNewPlaylist: true });\n\t\tlet newPlaylist = [];\n\t\tfor (let i = 0; i < this.state.chosenPlaylists.length; i++) {\n\t\t\tlet curatedPlaylist = this.curatePlaylist(this.state.chosenPlaylists[i]);\n\t\t\tfor (let i = 0; i < curatedPlaylist.length; i++) {\n\t\t\t\tnewPlaylist.push(curatedPlaylist[i]);\n\t\t\t}\n\t\t}\n\t\tthis.shuffle(newPlaylist);\n\t\tconst response = await axios.post(\n\t\t\t`https://api.spotify.com/v1/users/${this.state.userData.id}/playlists`,\n\t\t\t{ name: playlistName },\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + this.state.access_token\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst playlistID = await response.data.id;\n\t\tawait this.addAllTracks(newPlaylist, playlistID);\n\t\tlet playlistsData = await this.getPlaylists(\n\t\t\t`https://api.spotify.com/v1/users/${this.state.userData.id}/playlists`\n\t\t);\n\t\tconst playlists = await this.extractPlaylists(playlistsData);\n\n\t\tthis.setState({ playlists: playlists, isMorePlaylists: playlistsData.next, isLoadingNewPlaylist: false });\n\t}\n\n\t// Take a playlist and randomly curate it based on # tracks chosen\n\tcuratePlaylist(playlist) {\n\t\tconst workingPlaylist = { ...playlist, tracks: [ ...playlist.tracks ] };\n\t\tlet curatedPlaylistNewTotal = Math.floor(workingPlaylist.level / 100 * workingPlaylist.tracks.length);\n\t\tconst newPlaylist = [];\n\t\tfor (let i = 0; i < curatedPlaylistNewTotal; i++) {\n\t\t\tlet randomIndex = Math.floor(Math.random() * workingPlaylist.tracks.length);\n\t\t\tnewPlaylist.push(workingPlaylist.tracks[randomIndex]);\n\t\t\tworkingPlaylist.tracks.splice(randomIndex, 1);\n\t\t}\n\t\treturn newPlaylist;\n\t}\n\n\tasync addTracks(tracks, playlistID) {\n\t\tawait axios.post(\n\t\t\t`https://api.spotify.com/v1/playlists/${playlistID}/tracks`,\n\t\t\t{ uris: this.formatURIs(tracks) },\n\t\t\t{ headers: { Authorization: 'Bearer ' + this.state.access_token } }\n\t\t);\n\t}\n\n\tasync addAllTracks(playlist, playlistID) {\n\t\tlet tracksLeftToSend = playlist.length;\n\t\tlet startIndex = 0;\n\t\tlet endIndex = tracksLeftToSend > 100 ? 100 : tracksLeftToSend;\n\t\tlet nextSetOfTracks = playlist.slice(startIndex, endIndex);\n\t\twhile (tracksLeftToSend) {\n\t\t\t// send nextSetOfTracks to playlistID\n\t\t\tawait this.addTracks(nextSetOfTracks, playlistID);\n\t\t\t// update tracksLeftToSend to see how many are left\n\t\t\ttracksLeftToSend = tracksLeftToSend - nextSetOfTracks.length;\n\t\t\t// update nextSetOfTracks to be the next set of tracks\n\t\t\tstartIndex = startIndex + nextSetOfTracks.length;\n\t\t\t// endIndex = endIndex + tracksLeftToSend;\n\t\t\tendIndex = tracksLeftToSend > 100 ? endIndex + 100 : endIndex + tracksLeftToSend;\n\t\t\tnextSetOfTracks = playlist.slice(startIndex, endIndex);\n\t\t}\n\t}\n\n\t// Format URIs for createPlaylist API call\n\tformatURIs(playlist) {\n\t\tconst formattedURI = playlist.map((track) => this.formatTrackID(track.id));\n\t\treturn formattedURI;\n\t}\n\n\t// Format the track ID to be used in formatURIs\n\tformatTrackID(trackID) {\n\t\treturn `spotify:track:${trackID}`;\n\t}\n\n\t// Fires API call to get next page of playlists (button is not rendered if there is no next) and add it to state\n\tasync findMorePlaylists() {\n\t\tthis.setState({ isLoadingNewPlaylist: true });\n\t\tconst playlistsResponse = await this.getPlaylists(this.state.isMorePlaylists);\n\t\tconst playlists = await this.extractPlaylists(playlistsResponse);\n\t\tthis.setState((currSt) => ({\n\t\t\tplaylists: [ ...currSt.playlists, ...playlists ],\n\t\t\tisLoadingNewPlaylist: false,\n\t\t\tisMorePlaylists: playlistsResponse.next\n\t\t}));\n\t}\n\n\t// Shuffle function taken from stackoverflow (look into this)\n\tshuffle(array) {\n\t\tvar currentIndex = array.length,\n\t\t\ttemporaryValue,\n\t\t\trandomIndex;\n\t\t// While there remain elements to shuffle...\n\t\twhile (0 !== currentIndex) {\n\t\t\t// Pick a remaining element...\n\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\tcurrentIndex -= 1;\n\t\t\t// And swap it with the current element.\n\t\t\ttemporaryValue = array[currentIndex];\n\t\t\tarray[currentIndex] = array[randomIndex];\n\t\t\tarray[randomIndex] = temporaryValue;\n\t\t}\n\t\treturn array;\n\t}\n\n\t// Extract hashParams so we can extract access_token\n\tgetHashParams() {\n\t\tvar hashParams = {};\n\t\tvar e,\n\t\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\t\tq = window.location.hash.substring(1);\n\t\twhile ((e = r.exec(q))) {\n\t\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t\t}\n\t\treturn hashParams;\n\t}\n\n\trender() {\n\t\tconst authorizeURL = `https://accounts.spotify.com/authorize?client_id=${this.props\n\t\t\t.clientID}&redirect_uri=${this.props.redirectURI}&scope=${this.props\n\t\t\t.scope}&show_dialog=true&response_type=token`;\n\n\t\tconst {\n\t\t\taccess_token,\n\t\t\tchosenPlaylists,\n\t\t\tisLoadingPlaylists,\n\t\t\tisLoadingNewPlaylist,\n\t\t\tplaylists,\n\t\t\tisMorePlaylists\n\t\t} = this.state;\n\t\treturn isLoadingPlaylists ? (\n\t\t\t<Loader />\n\t\t) : (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Navbar authorizeURL={authorizeURL} accessToken={access_token} username={this.state.userData.id} />\n\t\t\t\t<div className=\"App-content-container\">\n\t\t\t\t\t<PlaylistBar\n\t\t\t\t\t\tchosenPlaylistIDs={chosenPlaylists.map((playlist) => playlist.id)}\n\t\t\t\t\t\taddPlaylist={this.addPlaylist}\n\t\t\t\t\t\tremovePlaylist={this.removePlaylist}\n\t\t\t\t\t\tisLoading={isLoadingNewPlaylist}\n\t\t\t\t\t\tplaylists={playlists}\n\t\t\t\t\t\tisMorePlaylists={isMorePlaylists}\n\t\t\t\t\t\tfindMorePlaylists={this.findMorePlaylists}\n\t\t\t\t\t/>\n\t\t\t\t\t<MixingBoard\n\t\t\t\t\t\tchosenPlaylists={chosenPlaylists}\n\t\t\t\t\t\tcreatePlaylist={this.createPlaylist}\n\t\t\t\t\t\tremovePlaylist={this.removePlaylist}\n\t\t\t\t\t\tonLevelChange={this.onLevelChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ErrorBoundary from './ErrorBoundary';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ErrorBoundary>\n\t\t\t<App />\n\t\t</ErrorBoundary>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/spotify-icon-logo.11dc437a.png\";"],"sourceRoot":""}